# 测试环境配置
# 使用 Testcontainers 的 @ServiceConnection 自动配置数据库连接

spring:
  jpa:
    hibernate:
      # 测试环境使用 update,保持表结构,允许测试类之间共享数据库
      ddl-auto: update
    # 测试时显示 SQL 便于调试
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        # 测试时使用批处理提高性能
        jdbc:
          batch_size: 20
        order_inserts: true
        order_updates: true
  # 测试时禁用 SQL 初始化脚本
  sql:
    init:
      mode: never

# Sa-Token 测试配置
sa-token:
  # 测试环境使用简单的密钥
  jwt-secret-key: test-secret-key-for-testing-only
  timeout: 86400   # 1 天
  is-print: false
  is-log: false

# 日志配置 - 测试时减少日志输出
logging:
  level:
    root: WARN
    com.yimusi: INFO
    org.springframework: WARN
    org.hibernate: WARN
    org.testcontainers: INFO
